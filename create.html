<!DOCTYPE html>
<html>
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">

<title>Create | SN Design Studio</title>

<link rel="stylesheet" href="/assets/css/master.css">
<link rel="stylesheet" href="/assets/css/create.css">

</head>

<body class="create-page">

<div class="container">

<h1 id="engineName">ENGINE: LOADING...</h1>

<select id="modelSelect"></select>

<input id="promptBox" placeholder="Enter prompt">

<button id="generateBtn">GENERATE</button>

<div class="progress">
<div id="progressBar"></div>
</div>

<div id="statusText">STATUS: IDLE</div>

</div>

<script>

/* ===============================
   TEMPLATE â†’ MODEL MAP
================================ */

const TEMPLATE_MODELS = {

   "dark-viral": ["flux2pro","gen4-darkviral"],
   "lipsync": ["flux2pro-lipsync","gen4-lipsync"],
   "dance-motion": ["flux2pro-motion","gen4-motion"],
   "face-swap": ["flux2pro-faceswap","gen4-faceswap"]

};

const params = new URLSearchParams(window.location.search);
const template = params.get("template");

const modelSelect = document.getElementById("modelSelect");
const engineName = document.getElementById("engineName");

if(template && TEMPLATE_MODELS[template]){

   const models = TEMPLATE_MODELS[template];

   modelSelect.innerHTML = `
      <option value="${models[0]}" data-engine="replicate">
         ðŸ”´ Replicate â€” ${models[0]}
      </option>

      <option value="${models[1]}" data-engine="runway">
         ðŸ”µ RunwayML â€” ${models[1]}
      </option>
   `;

}

/* ===============================
   UPDATE ENGINE LABEL
================================ */

function updateEngine(){

   const engine =
   modelSelect.options[modelSelect.selectedIndex].dataset.engine;

   engineName.innerText =
      engine === "replicate"
      ? "ENGINE: REPLICATE AI"
      : "ENGINE: RUNWAY GEN4";

}

modelSelect.addEventListener("change",updateEngine);
updateEngine();

/* ===============================
   IMPORTANT !!!
   expose selected model for create-premium.js
================================ */

window.getSelectedModel = function(){

   return modelSelect.value;

};

</script>

<script src="/assets/js/create-premium.js"></script>

</body>
</html>
