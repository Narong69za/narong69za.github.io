<!DOCTYPE html>
<html>
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">

<title>ULTRA AUTO CREATE</title>

<link rel="stylesheet" href="https://api.sn-designstudio.dev/assets/css/master.css">
<link rel="stylesheet" href="https://api.sn-designstudio.dev/assets/css/create.css">

</head>
<body>

<div class="create-wrapper">

<h1 class="create-title">ULTRA AUTO PRESET SYSTEM</h1>

<div id="presetContainer"></div>

</div>
<script>

const API="https://api.sn-designstudio.dev/";

/*
=====================================
ULTRA AUTO PRESET SYSTEM
scan preset -> generate UI auto
=====================================
*/

async function loadAllPresets(){

try{

const res = await fetch(API+"/api/template");

if(!res.ok){
   console.log("API FAIL",res.status);
   return;
}

const data = await res.json();

console.log("PRESET DATA:",data);

renderPresets(data);

}catch(e){
   console.log("LOAD PRESET ERROR",e);
}

}

/* ================= UI AUTO GENERATE ================= */

function renderPresets(list){

const container=document.getElementById("presetContainer");

container.innerHTML="";

Object.keys(list).forEach(slug=>{

const preset=list[slug];

const card=document.createElement("div");

card.className="preset-card";

card.innerHTML=`
<h3>${preset.engine || slug}</h3>
<p>Provider: ${preset.provider}</p>
<p>Credit: ${preset.creditCost || "-"}</p>
<button onclick="openCreate('${slug}')">OPEN</button>
`;

container.appendChild(card);

});

}

/* ================= OPEN CREATE ================= */

function openCreate(slug){

location.href="/create.html?templates="+slug;

}

/* START */

loadAllPresets();

</script>

</body>
</html>
