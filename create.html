<!DOCTYPE html>
<html>
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">

<title>ULTRA AUTO CREATE</title>

<link rel="stylesheet" href="https://api.sn-designstudio.dev/assets/css/master.css">
<link rel="stylesheet" href="https://api.sn-designstudio.dev/assets/css/create.css">

</head>
<body>

<div class="create-wrapper">

<h1 class="create-title">ULTRA AUTO PRESET SYSTEM</h1>

<div id="presetContainer"></div>

</div>
<script>

const API="https://sn-design-api.onrender.com";

/*
=====================================
AUTO LOAD PRESET
=====================================
*/

async function loadAllPresets(){

   try{

      const res = await fetch(API+"/api/templates");

      if(!res.ok){
         console.log("API FAIL",res.status);
         return;
      }

      const data = await res.json();

      console.log("PRESET DATA:",data);

      renderPresets(data);

   }catch(e){

      console.log("LOAD PRESET ERROR",e);

   }

}

function renderPresets(list){

   const container=document.getElementById("presetContainer");

   container.innerHTML="";

   Object.values(list).forEach(preset=>{

      const card=document.createElement("div");

      card.className="preset-card";

      card.innerHTML=`
         <h3>${preset.name || preset.id}</h3>
         <p>${preset.provider}</p>
         <button onclick="openCreate('${preset.id}')">OPEN</button>
      `;

      container.appendChild(card);

   });

}

function openCreate(slug){

   location.href="/create.html?template="+slug;

}

loadAllPresets();

</script>

</body>
</html>
