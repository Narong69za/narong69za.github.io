<!DOCTYPE html>
<html>
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">

<title>ULTRA AUTO CREATE</title>

<link rel="stylesheet" href="https://api.sn-designstudio.dev/assets/css/master.css">
<link rel="stylesheet" href="https://api.sn-designstudio.dev/assets/css/create.css">

</head>
<body>

<div class="create-wrapper">

<h1 class="create-title">ULTRA AUTO PRESET SYSTEM</h1>

<div id="presetContainer"></div>

</div>
<script>

const API="https://sn-design-api.onrender.com";

async function loadAllPresets(){

   const res = await fetch(API+"/api/templates");

   if(!res.ok){
      console.log("API FAIL",res.status);
      return;
   }

   const data = await res.json();

   renderPresets(data);

}

function renderPresets(list){

   const container=document.getElementById("presetContainer");
   container.innerHTML="";

   Object.values(list).forEach(preset=>{

      const card=document.createElement("div");

      card.innerHTML=`
         <h3>${preset.name}</h3>
         <p>Provider: ${preset.provider}</p>
         <p>Credit: ${preset.creditCost}</p>
         <button onclick="openCreate('${preset.id}')">OPEN</button>
      `;

      container.appendChild(card);

   });

}

function openCreate(slug){
   location.href="/create.html?template="+slug;
}

loadAllPresets();

</script>

</body>
</html>
