<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">

<title>Official Website — SN DESIGN STUDIO</title>

<meta name="description" content="SN Design Studio AI Create Engine">
<meta name="keywords" content="AI Creator, Motion AI, SN Design Studio, Video Generator">

<link rel="stylesheet" href="/assets/css/create.css">

</head>

<body>

<!-- ================= NAV ================= -->

<header class="topbar">
   SN DESIGN — CREATE ENGINE
</header>

<!-- ================= HERO ================= -->

<section class="hero-block">

<div class="hero-left">

   <img id="templatePreview">

</div>

<div class="hero-right">

   <h1 id="modelTitle">AI ENGINE</h1>

   <div class="detail-box">

      <p>MAX LENGTH : 30 sec</p>
      <p>Auto credit system active</p>
      <p>Realtime render engine</p>

   </div>

</div>

</section>

<!-- ================= MAIN ================= -->

<section class="create-container">

<!-- LEFT PANEL -->

<div class="panel left">

<h3>PROJECT</h3>

<textarea id="promptInput"
placeholder="Enter AI instruction..."></textarea>

<input type="file" id="videoInput" accept="video/*">

<input type="file" id="imageInput" accept="image/*">

<button id="createBtn" class="cta-btn">
CREATE VIDEO
</button>

</div>

<!-- RIGHT PANEL -->

<div class="panel right">

<h3>STATUS</h3>

<div id="statusText">READY</div>

<div class="progress">
   <div id="progressFill"></div>
</div>

</div>

</section>

<!-- ================= ENGINE SCRIPT ================= -->

<script>

const params = new URLSearchParams(window.location.search);
const template = params.get("template");

const preview = document.getElementById("templatePreview");
const title = document.getElementById("modelTitle");

if(template){

   title.innerText = template.toUpperCase();
   preview.src = "/assets/images/template-"+template+".jpg";

}

let jobID=null;

const statusText = document.getElementById("statusText");
const progressFill = document.getElementById("progressFill");

document.getElementById("createBtn").addEventListener("click", async()=>{

   statusText.innerText="Sending request...";

   const res = await fetch("/api/render",{

      method:"POST",
      headers:{"Content-Type":"application/json"},
      body:JSON.stringify({
         templateID:template,
         prompt:document.getElementById("promptInput").value
      })

   });

   const data = await res.json();

   jobID=data.jobID;

   pollStatus();

});


async function pollStatus(){

const interval=setInterval(async()=>{

const res = await fetch("/api/status/"+jobID);

const d = await res.json();

statusText.innerText=d.status+" "+d.progress+"%";
progressFill.style.width=d.progress+"%";

if(d.status==="complete"){

clearInterval(interval);

statusText.innerText="RENDER COMPLETE";

}

},1500);

}

</script>

</body>
</html>
