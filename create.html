<!DOCTYPE html>
<html>
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">

<title>ULTRA AUTO CREATE</title>

<link rel="stylesheet" href="https://api.sn-designstudio.dev/assets/css/master.css">
<link rel="stylesheet" href="https://api.sn-designstudio.dev/assets/css/create.css">

</head>
<body style="background:#000;color:#0f0;font-family:monospace">

<h2>ULTRA TRACE MODE</h2>

<div id="traceLog"></div>
<hr>
<div id="presetContainer"></div>

<script>

const API="https://sn-design-api.onrender.com";

async function loadAllPresets(){

   console.log("STEP 1: loadAllPresets CALLED");

   try{

      const res = await fetch(API+"/api/templates");

      console.log("STEP 2: STATUS",res.status);

      const data = await res.json();

      console.log("PRESET DATA:",data);

      const container=document.getElementById("presetContainer");

      Object.values(data).forEach(p=>{

         const card=document.createElement("div");

         card.innerHTML=`
            <h3>${p.name}</h3>
            <p>${p.provider}</p>
            <button onclick="openCreate('${p.id}')">CREATE</button>
         `;

         container.appendChild(card);

      });

   }catch(e){

      console.log("LOAD PRESET ERROR",e);

   }

}

function openCreate(slug){
   location.href="/create.html?template="+slug;
}

loadAllPresets();

</script>
</body>
</html>
