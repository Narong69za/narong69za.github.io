<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">

<title>ULTRA ENGINE CONTROL</title>

<link rel="stylesheet" href="assets/css/create-premium.css">
</head>

<body>

<div class="create-wrapper">

<h1 class="title">ULTRA ENGINE CONTROL</h1>

<input id="promptInput" class="prompt-input" placeholder="Enter prompt">

<div class="type-selector">
<button data-type="video">Generate Video</button>
<button data-type="image">Generate Image</button>
<button data-type="upscale">Upscale</button>
</div>


<div class="engine-grid">

<div class="engine red" data-engine="replicate">
<h2>RED ENGINE</h2>

<button data-mode="darkviral">Dark Viral</button>
<button data-mode="lipsync">AI LipSync</button>
<button data-mode="motion">Dance Motion</button>
<button data-mode="face">Face Swap</button>

<button class="generate-btn" data-engine-run="replicate">GENERATE RED</button>

</div>


<div class="engine blue" data-engine="runway">

<h2>BLUE ENGINE</h2>

<button data-mode="darkviral">Dark Viral</button>
<button data-mode="lipsync">AI LipSync</button>
<button data-mode="motion">Dance Motion</button>
<button data-mode="face">Face Swap</button>

<button class="generate-btn" data-engine-run="runway">GENERATE BLUE</button>

</div>

</div>


<div class="model-preview">

<input type="file" id="fileInput">

<p id="fileName">ไม่ได้เลือกไฟล์ใด</p>

<p id="engineInfo">
ENGINE: - | MODE: - | TYPE: -
</p>

</div>

<div class="status">
STATUS: <span id="statusText">IDLE</span>
</div>

</div>


<script>

/* ===========================
ENGINE INPUT LOGIC (ADD ONLY)
=========================== */

let selectedEngine=null;
let selectedMode=null;
let selectedType=null;
let selectedFile=null;

/* TYPE SELECT */

document.querySelectorAll('.type-selector button')
.forEach(btn=>{
btn.onclick=()=>{
document.querySelectorAll('.type-selector button')
.forEach(b=>b.classList.remove('active'));

btn.classList.add('active');

selectedType=btn.dataset.type;

updatePreview();
}
});


/* ENGINE MODE SELECT */

document.querySelectorAll('.engine button[data-mode]')
.forEach(btn=>{

btn.onclick=()=>{

let engineBox=btn.closest('.engine');

engineBox.querySelectorAll('[data-mode]')
.forEach(b=>b.classList.remove('active-mode'));

btn.classList.add('active-mode');

selectedEngine=engineBox.dataset.engine;
selectedMode=btn.dataset.mode;

updatePreview();

}

});


/* FILE INPUT */

document.getElementById('fileInput').addEventListener('change',(e)=>{

selectedFile=e.target.files[0];

if(selectedFile){

document.getElementById('fileName').innerText=selectedFile.name;

validateInput();

}

});


/* VALIDATION */

function validateInput(){

if(!selectedFile)return;

let isImage=selectedFile.type.startsWith('image/');
let isVideo=selectedFile.type.startsWith('video/');

let allowed=false;

/* INPUT MATRIX */

if(selectedType==="video" && (isImage || isVideo)) allowed=true;

if(selectedType==="image" && (isVideo || isImage)) allowed=true;

if(selectedType==="upscale" && isImage) allowed=true;

if(!allowed){

alert("ไฟล์ไม่รองรับสำหรับ TYPE นี้");

selectedFile=null;

document.getElementById('fileInput').value="";

}

}


/* PREVIEW UPDATE */

function updatePreview(){

document.getElementById('engineInfo').innerText=

"ENGINE: "+(selectedEngine||"-")+

" | MODE: "+(selectedMode||"-")+

" | TYPE: "+(selectedType||"-");

}


/* GENERATE BUTTON */

document.querySelectorAll('.generate-btn')
.forEach(btn=>{

btn.onclick=()=>{

if(!selectedEngine || !selectedMode || !selectedType){

alert("เลือก ENGINE / MODE / TYPE ก่อน");

return;

}

if(!selectedFile){

alert("กรุณาเลือกไฟล์");

return;

}

document.getElementById('statusText').innerText="PROCESSING";

/* SEND TO BACKEND HERE */

setTimeout(()=>{

document.getElementById('statusText').innerText="COMPLETE";

},2000);

}

});

</script>

</body>
</html>
