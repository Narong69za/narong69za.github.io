<!DOCTYPE html>
<html>
<head>

<link rel="stylesheet" href="/assets/css/create-premium.css">

</head>

<body>

<h1>ULTRA ENGINE CONTROL</h1>

<form id="createForm" enctype="multipart/form-data">

<input type="text" name="prompt" placeholder="Enter prompt">

<div class="engine-row">

<div class="engine red">

<h3>RED ENGINE</h3>

<button type="button" data-engine="replicate" data-alias="dark-viral">Dark Viral</button>
<button type="button" data-engine="replicate" data-alias="ai-lipsync">AI LipSync</button>
<button type="button" data-engine="replicate" data-alias="dance-motion">Dance Motion</button>
<button type="button" data-engine="replicate" data-alias="face-swap">Face Swap</button>

</div>

<div class="engine blue">

<h3>BLUE ENGINE</h3>

<button type="button" data-engine="runway" data-alias="dark-viral">Dark Viral</button>
<button type="button" data-engine="runway" data-alias="ai-lipsync">AI LipSync</button>
<button type="button" data-engine="runway" data-alias="dance-motion">Dance Motion</button>
<button type="button" data-engine="runway" data-alias="face-swap">Face Swap</button>

</div>

</div>

<h3>Upload Files</h3>

<div id="dynamicInputs"></div>

<button type="submit">GENERATE</button>

</form>

<script>

let selectedEngine=null;
let selectedAlias=null;

const ENGINE_INPUTS = {

   "face-swap":["source","target"],
   "dance-motion":["source","motion"],
   "ai-lipsync":["video","audio"],
   "dark-viral":["image"]

};

document.querySelectorAll("[data-engine]").forEach(btn=>{

   btn.onclick=()=>{

      selectedEngine=btn.dataset.engine;
      selectedAlias=btn.dataset.alias;

      renderInputs(selectedAlias);

   };

});

function renderInputs(alias){

   const container=document.getElementById("dynamicInputs");

   container.innerHTML="";

   ENGINE_INPUTS[alias].forEach(name=>{

      const label=document.createElement("label");

      label.innerText=name;

      const input=document.createElement("input");

      input.type="file";
      input.name=name;

      container.appendChild(label);
      container.appendChild(input);

   });

}

document.getElementById("createForm").onsubmit=async(e)=>{

   e.preventDefault();

   const formData=new FormData(e.target);

   formData.append("platform",selectedEngine);
   formData.append("alias",selectedAlias);

   await fetch("/api/render",{

      method:"POST",
      body:formData

   });

};

</script>

</body>
</html>
